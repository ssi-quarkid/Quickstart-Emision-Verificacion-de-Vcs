import { serializeOutpoints, serializeOutput, serializeOutputsForSigning, serializeSequenceNumbers, } from '../../../transaction';
import { arithmeticOperations } from './arithmetic';
import { bitwiseOperations } from './bitwise';
import { conditionallyEvaluate, incrementOperationCount, mapOverOperations, } from './combinators';
import { cryptoOperations } from './crypto';
import { applyError, AuthenticationErrorCommon } from './errors';
import { conditionalFlowControlOperations, reservedOperation, unconditionalFlowControlOperations, } from './flow-control';
import { disabledOperations, nonOperations } from './nop';
import { OpcodesCommon } from './opcodes';
import { pushNumberOperations, pushOperations } from './push';
import { spliceOperations } from './splice';
import { stackOperations } from './stack';
import { timeOperations } from './time';
export * from './arithmetic';
export * from './bitwise';
export * from './combinators';
export * from './crypto';
export * from './descriptions';
export * from './encoding';
export * from './errors';
export * from './flow-control';
export * from './nop';
export * from './opcodes';
export * from './push';
export * from './signing-serialization';
export * from './splice';
export * from './stack';
export * from './time';
export * from './types';
export var ConsensusCommon;
(function (ConsensusCommon) {
    /**
     * A.K.A. `MAX_SCRIPT_ELEMENT_SIZE`
     */
    ConsensusCommon[ConsensusCommon["maximumStackItemLength"] = 520] = "maximumStackItemLength";
    ConsensusCommon[ConsensusCommon["maximumScriptNumberLength"] = 4] = "maximumScriptNumberLength";
    /**
     * A.K.A. `MAX_OPS_PER_SCRIPT`
     */
    ConsensusCommon[ConsensusCommon["maximumOperationCount"] = 201] = "maximumOperationCount";
    /**
     * A.K.A. `MAX_SCRIPT_SIZE`
     */
    ConsensusCommon[ConsensusCommon["maximumBytecodeLength"] = 10000] = "maximumBytecodeLength";
    /**
     * A.K.A. `MAX_STACK_SIZE`
     */
    ConsensusCommon[ConsensusCommon["maximumStackDepth"] = 1000] = "maximumStackDepth";
})(ConsensusCommon || (ConsensusCommon = {}));
export const undefinedOperation = () => ({
    undefined: conditionallyEvaluate((state) => applyError(AuthenticationErrorCommon.unknownOpcode, state)),
});
export const checkLimitsCommon = (operation) => (state) => {
    const nextState = operation(state);
    return nextState.stack.length + nextState.alternateStack.length >
        ConsensusCommon.maximumStackDepth
        ? applyError(AuthenticationErrorCommon.exceededMaximumStackDepth, nextState)
        : nextState.operationCount > ConsensusCommon.maximumOperationCount
            ? applyError(AuthenticationErrorCommon.exceededMaximumOperationCount, nextState)
            : nextState;
};
export const commonOperations = ({ flags, ripemd160, secp256k1, sha1, sha256, }) => {
    const unconditionalOperations = {
        ...disabledOperations(),
        ...pushOperations(flags),
        ...mapOverOperations(unconditionalFlowControlOperations(flags), incrementOperationCount),
    };
    const conditionalOperations = mapOverOperations({
        ...pushNumberOperations(),
        [OpcodesCommon.OP_RESERVED]: reservedOperation(),
    }, conditionallyEvaluate);
    const incrementingOperations = mapOverOperations({
        ...arithmeticOperations(flags),
        ...bitwiseOperations(),
        ...cryptoOperations({
            flags,
            ripemd160,
            secp256k1,
            sha1,
            sha256,
        }),
        ...conditionalFlowControlOperations(),
        ...stackOperations(flags),
        ...spliceOperations(),
        ...timeOperations(flags),
        ...nonOperations(flags),
    }, conditionallyEvaluate, incrementOperationCount);
    return mapOverOperations({
        ...unconditionalOperations,
        ...incrementingOperations,
        ...conditionalOperations,
    }, checkLimitsCommon);
};
export const cloneStack = (stack) => stack.reduce((newStack, element) => {
    // eslint-disable-next-line functional/no-expression-statement, functional/immutable-data
    newStack.push(element.slice());
    return newStack;
}, []);
export const createAuthenticationProgramInternalStateCommon = (instructions, stack = []) => ({
    alternateStack: [],
    executionStack: [],
    instructions,
    ip: 0,
    lastCodeSeparator: -1,
    operationCount: 0,
    signatureOperationsCount: 0,
    stack,
});
export const createAuthenticationProgramExternalStateCommon = (program) => ({
    correspondingOutput: program.inputIndex < program.spendingTransaction.outputs.length
        ? serializeOutput(program.spendingTransaction.outputs[program.inputIndex])
        : undefined,
    locktime: program.spendingTransaction.locktime,
    outpointIndex: program.spendingTransaction.inputs[program.inputIndex].outpointIndex,
    outpointTransactionHash: program.spendingTransaction.inputs[program.inputIndex]
        .outpointTransactionHash,
    outputValue: program.sourceOutput.satoshis,
    sequenceNumber: program.spendingTransaction.inputs[program.inputIndex].sequenceNumber,
    transactionOutpoints: serializeOutpoints(program.spendingTransaction.inputs),
    transactionOutputs: serializeOutputsForSigning(program.spendingTransaction.outputs),
    transactionSequenceNumbers: serializeSequenceNumbers(program.spendingTransaction.inputs),
    version: program.spendingTransaction.version,
});
export const createAuthenticationProgramStateCommon = (instructions, stack, externalState) => ({
    ...createAuthenticationProgramInternalStateCommon(instructions, stack),
    ...externalState,
});
export const cloneAuthenticationProgramStateCommon = (state) => ({
    ...(state.error === undefined ? {} : { error: state.error }),
    alternateStack: state.alternateStack.slice(),
    correspondingOutput: state.correspondingOutput,
    executionStack: state.executionStack.slice(),
    instructions: state.instructions.slice(),
    ip: state.ip,
    lastCodeSeparator: state.lastCodeSeparator,
    locktime: state.locktime,
    operationCount: state.operationCount,
    outpointIndex: state.outpointIndex,
    outpointTransactionHash: state.outpointTransactionHash.slice(),
    outputValue: state.outputValue,
    sequenceNumber: state.sequenceNumber,
    signatureOperationsCount: state.signatureOperationsCount,
    stack: state.stack.slice(),
    transactionOutpoints: state.transactionOutpoints,
    transactionOutputs: state.transactionOutputs,
    transactionSequenceNumbers: state.transactionSequenceNumbers,
    version: state.version,
});
/**
 * This is a meaningless but complete `CommonExternalProgramState`, useful for
 * testing and debugging.
 */
export const createAuthenticationProgramExternalStateCommonEmpty = () => ({
    correspondingOutput: Uint8Array.of(1 /* correspondingOutput */),
    locktime: 0,
    outpointIndex: 0,
    outpointTransactionHash: new Uint8Array(32 /* length */).fill(5 /* outpointTransactionHash */),
    outputValue: 0,
    sequenceNumber: 0,
    transactionOutpoints: Uint8Array.of(2 /* transactionOutpoints */),
    transactionOutputs: Uint8Array.of(3 /* transactionOutputs */),
    transactionSequenceNumbers: Uint8Array.of(4 /* transactionSequenceNumbers */),
    version: 0,
});
/**
 * Create an "empty" CommonProgramState, suitable for testing a VM/compiler.
 */
export const createAuthenticationProgramStateCommonEmpty = (instructions, stack = []) => ({
    ...createAuthenticationProgramInternalStateCommon(instructions, stack),
    ...createAuthenticationProgramExternalStateCommonEmpty(),
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9hdXRoL2luc3RydWN0aW9uLXNldHMvY29tbW9uL2NvbW1vbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLGVBQWUsRUFDZiwwQkFBMEIsRUFDMUIsd0JBQXdCLEdBQ3pCLE1BQU0sc0JBQXNCLENBQUM7QUFjOUIsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUM5QyxPQUFPLEVBQ0wscUJBQXFCLEVBQ3JCLHVCQUF1QixFQUN2QixpQkFBaUIsR0FDbEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGdCQUFnQixFQUFzQyxNQUFNLFVBQVUsQ0FBQztBQUNoRixPQUFPLEVBQUUsVUFBVSxFQUFFLHlCQUF5QixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ2pFLE9BQU8sRUFDTCxnQ0FBZ0MsRUFDaEMsaUJBQWlCLEVBQ2pCLGtDQUFrQyxHQUNuQyxNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDMUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUMxQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsY0FBYyxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQzlELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUM1QyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQzFDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFeEMsY0FBYyxjQUFjLENBQUM7QUFDN0IsY0FBYyxXQUFXLENBQUM7QUFDMUIsY0FBYyxlQUFlLENBQUM7QUFDOUIsY0FB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